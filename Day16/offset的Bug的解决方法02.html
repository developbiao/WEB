<!DOCTYPE HTML>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html"; charset="utf-8" >
	<title>offsetBug的解决练习</title>
	<style type="text/css">
	#div1 {width:200px; height:200px; background:red; border:1px solid black;}
	</style>
	<script type="text/javascript">

	/*
	*  解决的方案offsetBug
	*/
	function getStyle(obj, name){
		if (obj.currentStyle){
			return obj.currentStyle[name];
		}
		else {
			return getComputedStyle(obj, false)[name];
		}

	}

	setInterval(function (){
		var oDiv = document.getElementById('div1');
		//oDiv.style.width = oDiv.offsetWidth  - 1 + 'px';
		oDiv.style.width = parseInt(getStyle(oDiv, 'width')) -1 + 'px';
	}, 30);
	</script>
</head>
<body>
	<div id="div1">
	</div>
</body>
</html>